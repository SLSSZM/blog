import{f as N,c as U,u as I,d as K}from"./tag.9d2165a5.js";import{_ as L}from"./index.57d77736.js";import{a as M,r as u,K as j,M as q,I as J,m as e,n as t,N as Q,w as l,B as R,c as S,T as m,e as c,X,f as k,a2 as $,a3 as G,_ as H,J as b}from"./vendor.84d47383.js";import"./index.16dcec72.js";const O={class:"tag"},P={class:"query"},W=b("\u641C\u7D22"),Y=b(" \xA0\u65B0\u589E "),Z=M({setup(ee){let v=u([]),i=u(!1),d=u(1),g=u(8),h=u(50),n=u("");const s=async()=>{i.value=!0;const a=await N({name:n.value,page:d.value,count:g.value});v.value=a.data.list,h.value=a.data.total,i.value=!1};s();const y=()=>{d.value=1,s()},B=a=>{d.value=a,s()},D=a=>{a.key==="Enter"&&y()},V=j("clientLevel",u(1)),w=async a=>{!a.name||(await I(a._id,a),m.success("\u4FEE\u6539\u6210\u529F"),s())},E=async a=>{await K(a),m.success("\u5220\u9664\u6210\u529F"),s()},T=async()=>{!n.value||(await U({name:n.value}),m.success("\u65B0\u589E\u6210\u529F"),n.value="",s())};return(a,x)=>{const C=c("el-input"),r=c("el-button"),_=c("el-icon"),p=c("el-table-column"),A=c("el-table"),F=c("el-pagination"),z=X("loading");return k(),q("div",O,[J("div",P,[e(C,{modelValue:t(n),"onUpdate:modelValue":x[0]||(x[0]=o=>Q(n)?n.value=o:n=o),onKeydown:D,placeholder:"\u65B0\u589E\u6807\u7B7E\u6216\u6309\u540D\u79F0\u641C\u7D22",clearable:"",style:{"max-width":"300px"}},null,8,["modelValue"]),e(r,{type:"primary",onClick:y},{default:l(()=>[W]),_:1}),e(r,{type:"danger",onClick:T},{default:l(()=>[e(_,{class:"color_reverse"},{default:l(()=>[e(t($))]),_:1}),Y]),_:1})]),R((k(),S(A,{data:t(v)},{default:l(()=>[e(p,{type:"index",fixed:""}),e(p,{label:"\u540D\u79F0"},{default:l(({row:o})=>[e(C,{modelValue:o.name,"onUpdate:modelValue":f=>o.name=f,clearable:"",size:"large"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(p,{align:"center","min-width":"200px",fixed:t(V)===3?!1:"right",label:"\u4FDD\u5B58 \u6216 \u5220\u9664"},{default:l(({row:o})=>[e(r,{round:"",size:"large",onClick:f=>w(o)},{default:l(()=>[e(_,null,{default:l(()=>[e(t(G))]),_:1})]),_:2},1032,["onClick"]),e(r,{round:"",size:"large",onClick:f=>E(o._id)},{default:l(()=>[e(_,null,{default:l(()=>[e(t(H))]),_:1})]),_:2},1032,["onClick"])]),_:1},8,["fixed"])]),_:1},8,["data"])),[[z,t(i)]]),e(F,{background:"",layout:"total, prev, pager, next",total:t(h),"pager-count":5,"current-page":t(d),"page-size":t(g),onCurrentChange:B},null,8,["total","current-page","page-size"])])}}});var oe=L(Z,[["__scopeId","data-v-43fafa0e"]]);export{oe as default};
